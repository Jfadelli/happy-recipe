{"ast":null,"code":"import _regeneratorRuntime from\"/home/jason/projects/happy-recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jason/projects/happy-recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jason/projects/happy-recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams,useHistory,useLocation}from'react-router-dom';import RecipeFinder from'../api/RecipeFinder';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateRecipe=function UpdateRecipe(){var location=useLocation();var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState('Price'),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return RecipeFinder.get(\"/\".concat(id));case 3:response=_context.sent;setName(response.data.data.recipe.name);setRating(response.data.data.recipe.rating);setPrice(response.data.data.recipe.price);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id]);var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_id=location.pathname.replace(\"/recipes/\",\"\").replace(\"/update\",\"\");_context2.next=5;return RecipeFinder.delete(\"/\".concat(_id));case 5:history.push('/');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.next=3;return RecipeFinder.put(\"/\".concat(id),{name:name,rating:rating,price:price});case 3:history.push('/');case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"recipe-detail-wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"ingredients-col\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-around\",margin:\"20px 0\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"btn btn-danger\",children:\"  Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"btn btn-primary\",children:\"Update\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{style:{margin:\"10px\"},htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",className:\"form-control\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{style:{margin:\"10px\"},htmlFor:\"rating\",children:\"Rating\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:rating,onChange:function onChange(e){return setRating(e.target.value);},id:\"rating\",className:\"form-control\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{style:{margin:\"0 10px\"},htmlFor:\"price\",children:\"Price \"}),/*#__PURE__*/_jsxs(\"select\",{value:price,onChange:function onChange(e){return setPrice(e.target.value);},className:\"custom-select my-1 mr-sm-2\",placeholder:\"price\",style:{borderRadius:'4px',border:'1px solid rgb(206, 212, 218)',fontSize:'25.5px'},type:\"text\",children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"$$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"$$$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"$$$$$\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})});};export default UpdateRecipe;","map":{"version":3,"sources":["/home/jason/projects/happy-recipe/client/src/components/UpdateRecipe.jsx"],"names":["React","useState","useEffect","useParams","useHistory","useLocation","RecipeFinder","UpdateRecipe","location","history","name","setName","rating","setRating","price","setPrice","id","fetchData","get","response","data","recipe","console","log","handleDelete","e","preventDefault","pathname","replace","delete","push","handleSubmit","put","width","display","flexDirection","justifyContent","margin","target","value","borderRadius","border","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory, useLocation } from 'react-router-dom'\nimport RecipeFinder from '../api/RecipeFinder'\n\nconst UpdateRecipe = () => {\n    let location = useLocation()\n    let history = useHistory()\n    const [name, setName] = useState()\n    const [rating, setRating] = useState()\n    const [price, setPrice] = useState('Price')\n    const { id } = useParams()\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await RecipeFinder.get(`/${id}`)\n                setName(response.data.data.recipe.name)\n                setRating(response.data.data.recipe.rating)\n                setPrice(response.data.data.recipe.price)\n            } catch (err) {\n                console.log(err)\n            }\n        }\n        fetchData()\n    }, [id])\n\n\n    const handleDelete = async (e) => {\n        e.preventDefault()\n        try {\n            let id = location.pathname.replace(\"/recipes/\", \"\" ).replace(\"/update\",\"\")\n            await RecipeFinder.delete(`/${id}`)\n            history.push('/')\n\n        } catch (err) {\n            console.log(err)\n        }\n        \n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        await RecipeFinder.put(`/${id}`, {\n            name,\n            rating,\n            price\n        })\n        history.push('/')\n    }\n    return (\n        <div className='recipe-detail-wrapper' >\n            <form className='ingredients-col'>\n                <div style={{width: \"100%\", display:\"flex\", flexDirection:\"row\", justifyContent: \"space-around\", margin:\"20px 0\"}}>\n                    <button onClick={handleDelete} className='btn btn-danger'>  Delete</button>\n                    <button onClick={handleSubmit} className='btn btn-primary'>Update</button>\n                </div>\n                <div className='form-group'>\n                    <label style={{margin: \"10px\"}} htmlFor=\"name\">Name</label>\n                    <input\n                        value={name}\n                        onChange={e => setName(e.target.value)}\n                        id=\"name\"\n                        className=\"form-control\"\n                        type='text'\n                    />\n                </div>\n\n                <div className='form-group'>\n                    <br />\n                    <label style={{margin: \"10px\"}} htmlFor=\"rating\">Rating</label>\n                    <br />\n                    <input\n                        value={rating}\n                        onChange={e => setRating(e.target.value)}\n                        id=\"rating\"\n                        className=\"form-control\"\n                        type='text'\n                    />\n                </div>\n\n                <div className='form-group'>\n                    <br />\n                    <label style={{margin: \"0 10px\"}} htmlFor=\"price\">Price </label>\n                    <select\n                        value={price}\n                        onChange={e => setPrice(e.target.value)}\n                        className=\"custom-select my-1 mr-sm-2\"\n                        placeholder='price'\n                        style={{ borderRadius: '4px', border: '1px solid rgb(206, 212, 218)', fontSize: '25.5px' }}\n                        type=\"text\"\n                    >\n\n\n                        <option disabled>Price</option>\n                        <option value=\"1\">$</option>\n                        <option value=\"2\">$$</option>\n                        <option value=\"3\">$$$</option>\n                        <option value=\"4\">$$$$</option>\n                        <option value=\"5\">$$$$$</option>\n                    </select>\n                </div>\n\n                <br /><br /><br />\n\n\n\n            </form>\n\n\n        </div>\n    )\n}\n\nexport default UpdateRecipe\n"]},"metadata":{},"sourceType":"module"}